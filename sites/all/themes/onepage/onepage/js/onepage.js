(function($) {  Drupal.OnePage = Drupal.OnePage || {};  Drupal.OnePage.currentRegion = null;  Drupal.OnePage.clickScrolling = false;  Drupal.OnePage.toolbarHeight = 0;  Drupal.OnePage.menuHeight = 0;  Drupal.OnePage.supportedScreens = [0.5, 479.5, 719.5, 959.5, 1049.5];  Drupal.OnePage.IE8 = $.browser.msie && parseInt($.browser.version, 10) === 8;  Drupal.OnePage.popupIScroll = false;  Drupal.OnePage.backToTopButton = null;  Drupal.OnePage.menuElements = [];  Drupal.OnePage.FIXED_MENU_POSITION = -1;  Drupal.behaviors.onepageAction = {    attach: function (context) {       Drupal.OnePage.setInputPlaceHolder('search_block_form', Drupal.t('Search...'));      Drupal.OnePage.toolbarHeight = $('#toolbar').height() ? $('#toolbar').height() : 0;      Drupal.OnePage.menuHeight    = $('#main-menu-wrapper').height();      Drupal.OnePage.menuElements  = $('#main-menu-wrapper ul.menu li a');      Drupal.OnePage.initResponsiveMenu();      $(window).load(function() {        Drupal.OnePage.iScrollPopupInit();        Drupal.OnePage.toolbarHeight = $('#toolbar').height() ? $('#toolbar').height() : 0;        Drupal.OnePage.menuHeight = $('#main-menu-wrapper').height();        $('body').css({'padding-top': Drupal.OnePage.toolbarHeight > 0 ? (Drupal.OnePage.toolbarHeight - (Drupal.OnePage.IE8 ? 10 : 0)) : 0});        Drupal.OnePage.showFixedMenu();        Drupal.OnePage.showBackToTop();      });      $(window).resize(function() {        Drupal.OnePage.toolbarHeight = $('#toolbar').height() ? $('#toolbar').height() : 0;        Drupal.OnePage.menuHeight = $('#main-menu-wrapper').height();        $('body').css({'padding-top': Drupal.OnePage.toolbarHeight > 0 ? (Drupal.OnePage.toolbarHeight - (Drupal.OnePage.IE8 ? 10 : 0)) : 0});        Drupal.OnePage.updateResponsiveMenu();        Drupal.OnePage.showFixedMenu();        Drupal.OnePage.showBackToTop();      });      $(window).scroll(function() {        Drupal.OnePage.showBackToTop();      });    }  };  Drupal.OnePage.iScrollPopupInit = function() {    el = $('body.show-popup-iframe');    if(el.length && !Drupal.OnePage.IE8) {      var height = $(parent.document).find('#cboxLoadedContent').height();      el.height(height);      Drupal.OnePage.popupIScroll = new iScroll(el[0], {vScrollbar: true,  scrollbarClass: 'myScrollbar', useTransform: false});    }  }  Drupal.OnePage.showFixedMenu = function() {    var wrapper = $('#main-menu-wrapper');    if ($(window).scrollTop() > this.FIXED_MENU_POSITION) {      var $page = $('#page');      wrapper.css({top: $page.position().top});      wrapper.find('#fixedLogo').show();      $('#main-menu-wrapper li a').smoothScroll({        offset: -(Drupal.OnePage.menuHeight + Drupal.OnePage.toolbarHeight)      });    } else {      wrapper.css({top: 'auto'});      wrapper.find('#fixedLogo').hide();      $('#main-menu-wrapper li a').smoothScroll({        offset: -(2*Drupal.OnePage.menuHeight + Drupal.OnePage.toolbarHeight)      });    }  };  Drupal.OnePage.showBackToTop = function() {    if($(window).scrollTop() > 100) {      $('.btn-btt').show();    }    else {      $('.btn-btt').hide();    }  };  Drupal.OnePage.setInputPlaceHolder = function(name, text) {    var i = document.createElement('input');    if ('placeholder' in i) {      $('input[name="' + name + '"]').attr('placeholder', Drupal.t(text));    } else {      $('input[name="' + name + '"]').val(Drupal.t(text));      $('input[name="' + name + '"]').focus(function(){        if(this.value == Drupal.t(text)) {          this.value='';        }      }).blur(function(){        if(this.value == '') {          this.value=Drupal.t(text);        }      });    }  };  Drupal.OnePage.updateResponsiveMenu = function(){    var target = $('#block-system-main-menu');    if (target.length == 0) {      target = $('#block-superfish-1');    }        if (target.css('display') == 'none') {      $('.responsive-menu-button').show();    } else {      $('.responsive-menu-button').hide();    }  };  Drupal.OnePage.initResponsiveMenu = function(){    $('.responsive-menu-button').bind('click',function(e){      var target = $('#block-system-main-menu');      if (target.length == 0) {        target = $('#block-superfish-1');      }      if(target.css('display') == 'none') {        target.css({display: 'block'});      }      else {        target.css({display: ''});      }    });    this.updateResponsiveMenu();  };})(jQuery);